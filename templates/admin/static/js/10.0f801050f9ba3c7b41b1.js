webpackJsonp([10],{"Fvk+":function(e,t){},a1Pp:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("bOdI"),s=a.n(l),i=a("F+jZ"),r=a("zL8q"),d={name:"helpContentOperate",data:function(){return{fileUploadUrl:i.b,fileList:[],params:{},ID:this.$route.params.id?this.$route.params.id:0,data:{},rules:s()({adname:{required:!0,message:"请输入",trigger:"blur"},adusername:{required:!0,message:"请输入",trigger:"blur"},adpassword:{required:!0,message:"请输入",trigger:"blur"},ademail:{required:!0,message:"请输入",trigger:"blur"},adlevel:{required:!0,message:"请选择",trigger:"blur"},admobiel:{required:!0,message:"请输入",trigger:"blur"}},"adlevel",{required:!0,message:"请选择",trigger:"blur"})}},created:function(){0!==this.ID&&this.getData()},methods:{getWinHeight:i.d,submitForm:function(e){var t=this;this.$refs[e].validate(function(e){var a=t.data;if(e){var l="/user/add_admin/",s="post";0!=t.ID&&("普通管理员"==a.adlevel?a.adlevel=0:"高级管理员"==a.adlevel?a.adlevel=1:"超管"==a.adlevel&&(a.adlevel=2),l="/user/update_admin/",s="post"),t.$http({method:s,url:l,data:a,params:{token:t.Cookie.get("token")}}).then(function(e){200==e.status?t.$router.push("/addminMan"):Object(r.Message)({message:e.message,type:"error",showClose:!0})})}})},getData:function(){var e=this;this.$http({method:"get",url:"/user/get_staff/",params:{stfid:this.ID,token:this.Cookie.get("token")}}).then(function(t){200==t.status&&(e.data=t.data.staff)})},submitUpload:function(e){this.$refs[e].submit()},successFile:function(e){this.data.adheader=e.data},beforeRemove:function(e){var t=this;return Object(r.MessageBox)({title:"提示",message:"确定移除 "+e.name+"？",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",beforeClose:function(a,l,s){return"confirm"===a?(s(),e.id&&t.$http.post(""+e.id).then(function(e){t.fileList=[],t.data.adheader=null}).catch(function(e){}),!0):(s(),!1)}})},handlePreview:function(e){}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addminMan-operate-container"},[a("div",{staticClass:"addminMan-operate-header"},[a("b",[e._v(e._s(0!=e.$route.params.id?"编辑":"添加"))]),e._v(" "),a("router-link",{attrs:{to:"/adminMan"}},[a("el-button",[e._v("返回")])],1)],1),e._v(" "),a("div",{staticClass:"addminMan-operate-edit",style:{height:e.getWinHeight()-265+"px"}},[a("el-form",{ref:"form",attrs:{model:e.data,"label-width":"110px",rules:e.rules}},[a("el-form-item",{attrs:{label:"头像："}},[a("el-upload",{ref:"upload",staticClass:"upload",attrs:{action:e.fileUploadUrl,"on-preview":e.handlePreview,"on-success":e.successFile,"before-remove":e.beforeRemove,data:e.params,"file-list":e.fileList,accept:"image/jpeg,image/png,image/jpg",limit:1,"auto-upload":!1,"list-type":"picture"}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("点击上传文件")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:function(t){e.submitUpload("upload")}}},[e._v("上传到服务器")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名：",prop:"adname"}},[a("el-input",{staticStyle:{width:"300px"},model:{value:e.data.adname,callback:function(t){e.$set(e.data,"adname",t)},expression:"data.adname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"管理员类别：",prop:"adlevel"}},[a("el-select",{staticStyle:{width:"300px"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.data.adlevel,callback:function(t){e.$set(e.data,"adlevel",t)},expression:"data.adlevel"}},[a("el-option",{attrs:{label:"普通管理员",value:0}}),e._v(" "),a("el-option",{attrs:{label:"高级管理员",value:1}}),e._v(" "),a("el-option",{attrs:{label:"超管",value:2}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名：",prop:"adusername"}},[a("el-input",{staticStyle:{width:"300px"},model:{value:e.data.adusername,callback:function(t){e.$set(e.data,"adusername",t)},expression:"data.adusername"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码：",prop:"adpassword"}},[a("el-input",{staticStyle:{width:"300px"},model:{value:e.data.adpassword,callback:function(t){e.$set(e.data,"adpassword",t)},expression:"data.adpassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱：",prop:"ademail"}},[a("el-input",{staticStyle:{width:"300px"},model:{value:e.data.ademail,callback:function(t){e.$set(e.data,"ademail",t)},expression:"data.ademail"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机：",prop:"admobiel"}},[a("el-input",{staticStyle:{width:"300px"},model:{value:e.data.admobiel,callback:function(t){e.$set(e.data,"admobiel",t)},expression:"data.admobiel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机（备用）："}},[a("el-input",{staticStyle:{width:"300px"},model:{value:e.data.adphone,callback:function(t){e.$set(e.data,"adphone",t)},expression:"data.adphone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址："}},[a("el-input",{staticStyle:{width:"300px"},model:{value:e.data.adaddress,callback:function(t){e.$set(e.data,"adaddress",t)},expression:"data.adaddress"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"详细地址："}},[a("el-input",{staticStyle:{width:"300px"},model:{value:e.data.addesc,callback:function(t){e.$set(e.data,"addesc",t)},expression:"data.addesc"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("提交")]),e._v(" "),a("router-link",{attrs:{to:"/addminMan"}},[a("el-button",[e._v("返回")])],1)],1)],1)],1)])},staticRenderFns:[]};var n=a("VU/8")(d,o,!1,function(e){a("Fvk+")},null,null);t.default=n.exports}});