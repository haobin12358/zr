webpackJsonp([12],{DqCQ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("sVF2"),s=a("F+jZ"),i=a("zL8q"),o={name:"helpContentOperate",components:{tinymce:r.a},data:function(){return{ID:this.$route.params.id?this.$route.params.id:0,fileUploadUrl:s.b,fileList:[],params:{},data:{JRBid:"",jrbimage:"",jrbsort:1},rules:{jrbimage:{required:!0,message:"请上传",trigger:"blur"}}}},created:function(){},methods:{getWinHeight:s.d,submitForm:function(t){var e=this;this.$refs[t].validate(function(t){var a=e.data;if(t){var r="/room/add_joinroom_banner/",s="post";0!=e.ID&&(r="/room/add_joinroom_banner/",s="post"),e.$http({method:s,url:r,data:a,params:{token:e.Cookie.get("token")}}).then(function(t){200==t.status?e.$router.push("/friendsFamilybanner"):Object(i.Message)({message:t.message,type:"error",showClose:!0})})}})},getData:function(){this.$http({method:"get",url:"",params:{cont_id:this.ID}}).then(function(t){t.status})},submitUpload:function(t){this.$refs[t].submit()},successFile:function(t){this.data.jrbimage=t.data},beforeRemove:function(t){var e=this;return Object(i.MessageBox)({title:"提示",message:"确定移除 "+t.name+"？",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",beforeClose:function(a,r,s){return"confirm"===a?(s(),t.response&&(e.data.jrbimage=null),!0):(s(),!1)}})},handlePreview:function(t){}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"friendsFamilybanner-operate-container"},[a("div",{staticClass:"friendsFamilybanner-operate-header"},[a("b",[t._v(t._s(0!=t.$route.params.id?"编辑":"添加"))]),t._v(" "),a("router-link",{attrs:{to:"/friendsFamilybanner"}},[a("el-button",[t._v("返回")])],1)],1),t._v(" "),a("div",{staticClass:"friendsFamilybanner-operate-edit",style:{height:t.getWinHeight()-265+"px"}},[a("el-form",{ref:"form",attrs:{model:t.data,"label-width":"110px",rules:t.rules}},[a("el-form-item",{attrs:{label:"主图：",prop:"jrbimage"}},[a("el-upload",{ref:"upload",staticClass:"upload",attrs:{action:t.fileUploadUrl,"on-preview":t.handlePreview,"on-success":t.successFile,"before-remove":t.beforeRemove,data:t.params,"file-list":t.fileList,accept:"image/jpeg,image/png,image/jpg",limit:1,"auto-upload":!1,"list-type":"picture"}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("点击上传文件")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:function(e){t.submitUpload("upload")}}},[t._v("上传到服务器")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"排序号："}},[a("el-input-number",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入排序号排序"},model:{value:t.data.jrbsort,callback:function(e){t.$set(t.data,"jrbsort",e)},expression:"data.jrbsort"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("form")}}},[t._v("提交")]),t._v(" "),a("router-link",{attrs:{to:"/helpCenter/helpContent"}},[a("el-button",[t._v("返回")])],1)],1)],1)],1)])},staticRenderFns:[]};var l=a("VU/8")(o,n,!1,function(t){a("seZw")},null,null);e.default=l.exports},seZw:function(t,e){}});