webpackJsonp([23],{"6cls":function(t,e){},KH5F:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("F+jZ"),s=a("zL8q"),r={name:"helpContentOperate",data:function(){return{ID:this.$route.params.id?this.$route.params.id:0,fileUploadUrl:i.b,fileList:[],params:{},data:{ibimage:"",iblink:"",ibsort:1},rules:{ibimage:{required:!0,message:"请上传",trigger:"blur"}}}},created:function(){},methods:{getWinHeight:i.d,submitForm:function(t){var e=this;this.$refs[t].validate(function(t){var a=e.data;if(t){var i="/index/add_banner/",r="post";0!=e.ID&&(i="/index/banner_banner/",r="post"),e.$http({method:r,url:i,data:a,params:{token:e.Cookie.get("token")}}).then(function(t){200==t.status?e.$router.push("/banner"):Object(s.Message)({message:t.message,type:"error",showClose:!0})})}})},getData:function(){this.$http({method:"get",url:"",params:{cont_id:this.ID}}).then(function(t){t.status})},submitUpload:function(t){this.$refs[t].submit()},successFile:function(t){this.data.ibimage=t.data},beforeRemove:function(t){var e=this;return Object(s.MessageBox)({title:"提示",message:"确定移除 "+t.name+"？",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",beforeClose:function(a,i,s){return"confirm"===a?(s(),t.response&&(e.data.ibimage=null),!0):(s(),!1)}})},handlePreview:function(t){}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"banner-operate-container"},[a("div",{staticClass:"banner-operate-header"},[a("b",[t._v(t._s(0!=t.$route.params.id?"编辑":"添加"))]),t._v(" "),a("router-link",{attrs:{to:"/banner"}},[a("el-button",[t._v("返回")])],1)],1),t._v(" "),a("div",{staticClass:"banner-operate-edit",style:{height:t.getWinHeight()-265+"px"}},[a("el-form",{ref:"form",attrs:{model:t.data,"label-width":"110px",rules:t.rules}},[a("el-form-item",{attrs:{label:"主图：",prop:"ibimage"}},[a("el-upload",{ref:"upload",staticClass:"upload",attrs:{action:t.fileUploadUrl,"on-preview":t.handlePreview,"on-success":t.successFile,"before-remove":t.beforeRemove,data:t.params,"file-list":t.fileList,accept:"image/jpeg,image/png,image/jpg",limit:1,"auto-upload":!1,"list-type":"picture"}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("点击上传文件")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:function(e){t.submitUpload("upload")}}},[t._v("上传到服务器")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"链接："}},[a("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"请输入链接"},model:{value:t.data.iblink,callback:function(e){t.$set(t.data,"iblink",e)},expression:"data.iblink"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"排序号："}},[a("el-input-number",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入排序号排序"},model:{value:t.data.ibsort,callback:function(e){t.$set(t.data,"ibsort",e)},expression:"data.ibsort"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("form")}}},[t._v("提交")]),t._v(" "),a("router-link",{attrs:{to:"/helpCenter/helpContent"}},[a("el-button",[t._v("返回")])],1)],1)],1)],1)])},staticRenderFns:[]};var l=a("VU/8")(r,n,!1,function(t){a("6cls")},null,null);e.default=l.exports}});